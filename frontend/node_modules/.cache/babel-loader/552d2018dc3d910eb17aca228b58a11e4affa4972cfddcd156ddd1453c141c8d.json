{"ast":null,"code":"var _jsxFileName = \"/Users/enithsamarasinghe/Desktop/GitHub/Attorney-Management-System/frontend/src/components_cli/ClientDetails/UserClients.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Header from \"../header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserClients() {\n  _s();\n  const [clients, setClients] = useState([]);\n\n  // Fetch clients from the backend\n  useEffect(() => {\n    function getClients() {\n      axios.get(\"http://localhost:8070/client/\").then(res => {\n        setClients(res.data); // Update state with the fetched clients\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n    getClients(); // Call the function to fetch clients on component load\n  }, []);\n\n  // Delete client function\n  const deleteClient = id => {\n    axios.delete(`http://localhost:8070/client/deleteClient/${id}`).then(res => {\n      alert(\"Client Deleted Successfully!\");\n\n      // After deleting the client from the server, remove it from the state\n      setClients(clients.filter(client => client._id !== id));\n    }).catch(err => {\n      console.error(err);\n      alert(\"Error deleting client\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Client List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"First Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"NIC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: clients.map(client => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: client.fname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: client.lname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: client.nic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: client.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: client.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: () => deleteClient(client._id) // Call delete function with client ID\n                ,\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)]\n          }, client._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(UserClients, \"cUQn5teewQOIEjPDAOj81V47VgI=\");\n_c = UserClients;\nexport default UserClients;\nvar _c;\n$RefreshReg$(_c, \"UserClients\");","map":{"version":3,"names":["React","useState","useEffect","axios","Header","jsxDEV","_jsxDEV","UserClients","_s","clients","setClients","getClients","get","then","res","data","catch","err","console","error","deleteClient","id","delete","alert","filter","client","_id","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","fname","lname","nic","email","phone","onClick","_c","$RefreshReg$"],"sources":["/Users/enithsamarasinghe/Desktop/GitHub/Attorney-Management-System/frontend/src/components_cli/ClientDetails/UserClients.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Header from \"../header\";\n\nfunction UserClients() {\n  const [clients, setClients] = useState([]);\n\n  // Fetch clients from the backend\n  useEffect(() => {\n    function getClients() {\n      axios\n        .get(\"http://localhost:8070/client/\")\n        .then((res) => {\n          setClients(res.data); // Update state with the fetched clients\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n    getClients(); // Call the function to fetch clients on component load\n  }, []);\n\n  // Delete client function\n  const deleteClient = (id) => {\n    axios\n      .delete(`http://localhost:8070/client/deleteClient/${id}`)\n      .then((res) => {\n        alert(\"Client Deleted Successfully!\");\n\n        // After deleting the client from the server, remove it from the state\n        setClients(clients.filter((client) => client._id !== id));\n      })\n      .catch((err) => {\n        console.error(err);\n        alert(\"Error deleting client\");\n      });\n  };\n\n  return (\n    <div>\n      <Header />\n      <div className=\"container\">\n        <h2>Client List</h2>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>First Name</th>\n              <th>Last Name</th>\n              <th>NIC</th>\n              <th>Email</th>\n              <th>Phone</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {clients.map((client) => (\n              <tr key={client._id}>\n                <td>{client.fname}</td>\n                <td>{client.lname}</td>\n                <td>{client.nic}</td>\n                <td>{client.email}</td>\n                <td>{client.phone}</td>\n                <td>\n                  {/* Delete button */}\n                  <button\n                    className=\"btn btn-danger\"\n                    onClick={() => deleteClient(client._id)} // Call delete function with client ID\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default UserClients;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;;EAE1C;EACAC,SAAS,CAAC,MAAM;IACd,SAASS,UAAUA,CAAA,EAAG;MACpBR,KAAK,CACFS,GAAG,CAAC,+BAA+B,CAAC,CACpCC,IAAI,CAAEC,GAAG,IAAK;QACbJ,UAAU,CAACI,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC;MACxB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;QACdC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MACpB,CAAC,CAAC;IACN;IAEAN,UAAU,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMS,YAAY,GAAIC,EAAE,IAAK;IAC3BlB,KAAK,CACFmB,MAAM,CAAC,6CAA6CD,EAAE,EAAE,CAAC,CACzDR,IAAI,CAAEC,GAAG,IAAK;MACbS,KAAK,CAAC,8BAA8B,CAAC;;MAErC;MACAb,UAAU,CAACD,OAAO,CAACe,MAAM,CAAEC,MAAM,IAAKA,MAAM,CAACC,GAAG,KAAKL,EAAE,CAAC,CAAC;IAC3D,CAAC,CAAC,CACDL,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBM,KAAK,CAAC,uBAAuB,CAAC;IAChC,CAAC,CAAC;EACN,CAAC;EAED,oBACEjB,OAAA;IAAAqB,QAAA,gBACErB,OAAA,CAACF,MAAM;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVzB,OAAA;MAAK0B,SAAS,EAAC,WAAW;MAAAL,QAAA,gBACxBrB,OAAA;QAAAqB,QAAA,EAAI;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpBzB,OAAA;QAAO0B,SAAS,EAAC,OAAO;QAAAL,QAAA,gBACtBrB,OAAA;UAAAqB,QAAA,eACErB,OAAA;YAAAqB,QAAA,gBACErB,OAAA;cAAAqB,QAAA,EAAI;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnBzB,OAAA;cAAAqB,QAAA,EAAI;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClBzB,OAAA;cAAAqB,QAAA,EAAI;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACZzB,OAAA;cAAAqB,QAAA,EAAI;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACdzB,OAAA;cAAAqB,QAAA,EAAI;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACdzB,OAAA;cAAAqB,QAAA,EAAI;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACd;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRzB,OAAA;UAAAqB,QAAA,EACGlB,OAAO,CAACwB,GAAG,CAAER,MAAM,iBAClBnB,OAAA;YAAAqB,QAAA,gBACErB,OAAA;cAAAqB,QAAA,EAAKF,MAAM,CAACS;YAAK;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACvBzB,OAAA;cAAAqB,QAAA,EAAKF,MAAM,CAACU;YAAK;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACvBzB,OAAA;cAAAqB,QAAA,EAAKF,MAAM,CAACW;YAAG;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACrBzB,OAAA;cAAAqB,QAAA,EAAKF,MAAM,CAACY;YAAK;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACvBzB,OAAA;cAAAqB,QAAA,EAAKF,MAAM,CAACa;YAAK;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACvBzB,OAAA;cAAAqB,QAAA,eAEErB,OAAA;gBACE0B,SAAS,EAAC,gBAAgB;gBAC1BO,OAAO,EAAEA,CAAA,KAAMnB,YAAY,CAACK,MAAM,CAACC,GAAG,CAAE,CAAC;gBAAA;gBAAAC,QAAA,EAC1C;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC;UAAA,GAdEN,MAAM,CAACC,GAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAef,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvB,EAAA,CA3EQD,WAAW;AAAAiC,EAAA,GAAXjC,WAAW;AA6EpB,eAAeA,WAAW;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}